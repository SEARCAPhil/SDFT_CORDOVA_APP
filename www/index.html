<!DOCTYPE html>
<html>
<head>
	<title>SEARCA SDFT</title>
	<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
	<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
	<link rel="stylesheet" type="text/css" href="assets/css/jquery.mobile-1.4.5.min.css"/>
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="vendor/docker/css/docker.css"/>
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap-material-design/css/bootstrap-material-design.min.css"/>
	<link rel="stylesheet" type="text/css" href="assets/css/custom.css"/>
	<link rel="stylesheet" type="text/css" href="vendor/fileicon/fileicon.css"/>
	<script type="text/javascript" src="vendor/bootstrap-material-design/js/jquery-2.1.3.min.js"></script>
	<script src="assets/js/jquery.mobile-1.4.5.min.js"></script>
	<script type="text/javascript" src="vendor/bootstrap-material-design/js/material.min.js"></script>
	<script type="text/javascript" src="vendor/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="vendor/docker/js/docker.js"></script>
	<script type="text/javascript" src="assets/js/config.js"></script>
	<script type="text/javascript" src="assets/js/index/ajax/ajax.list.js"></script>
	<script type="text/javascript" src="assets/js/index/functions/functions.list.js"></script>
	<script type="text/javascript" src="assets/js/index/index.js"></script>
	<script type="text/javascript" src="assets/js/notifications/ajax/ajax.notifications.js"></script>
	<script type="text/javascript" src="assets/js/notifications/functions/functions.notifications.js"></script>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	
</head>
<body onload="init()" data-role="page" id="xx">

  <header class="navbar navbar-default navbar-fixed-top navbar-black" data-role="header">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand docker-menu" href="javascript:void(0)" data-target=".docker"><i class="material-icons header_menu">menu</i></a>
        <a class="navbar-brand notification-icon" href="javascript:void(0)" data-target=".container-main"><i class="material-icons header_menu">public</i></a>
        <span class="visible-xs top-menu-section-xs"></span>

      </div>

      <div class="navbar-header navbar-right visible-md visible-lg visible-sm top-menu-section-md"></div>

      
    </div>
  </header>



 <article class="docker docker-sm-fixed docker-sm-hidden docker-xs-hidden hidden-md" id="docker-sidebar" data-role="none"  data-enhance="false">
 	<section class="content container-fluid">
 		<div class="col col-md-12">
 			<ul class="list-unstyled main-menu main-menu-list">
 				<li data-status="recent" class="active">Recent <i class="material-icons"  style="width: 24px;">folder</i></li>
 				<li data-status="open">Ongoing <i class="material-icons" style="width: 24px;">cloud_qeue</i></li>
 				<li data-status="closed">Closed <i class="material-icons">lock</i></li>
 				<li data-status="draft" id="draft-menu">Drafts <i class="material-icons">lock</i></li>
 			</ul>

 			<ul class="list-unstyled main-menu main-menu-list">
 				<li id="new">New <i class="material-icons">add</i></li>
 			</ul>

 			
 		</div>

 		<!--<div class="col col-md-12">
 			<ul class="list-unstyled main-menu">
 				<li id="groups">Groups <i class="material-icons" style="width: 24px;">people</i></li>
 			</ul>
 		</div>-->


 		<div class="col col-md-12">

 			<ul class="list-unstyled main-menu">
 				<li  data-role="none"><a href="login.html" style="color:rgb(255,184,12);" data-ajax="false" onclick="signout();">Sign-out <i class="material-icons"  style="width: 24px;">keyboard_backspace</i> </a></li>
 			</ul>
 		</div>

 	</section>
 	
 </article>


<div class="container-fluid container-ajax" data-role="content"></div>
<div class="container-fluid container-notifications" data-role="content"></div>
<div class="container-fluid container-main" data-role="content">
	<div class="row">
		
		 <article class="col col-lg-2 col-md-12 hidden visible-lg" id="item-docker-menu">
			 <br/><br/>
			 <span class="docker-menu-toggle-content visible-xs visible-sm visible-md" style="padding-top: 30px;padding-bottom: 10px;"><i class="material-icons">keyboard_backspace</i> <span class="text-muted"><small>Toggle List</small></span></span>
			<!--hide list menu-->

			<section class="col col-md-12 item-docker-menu-content"><div class="list-container row"></div></section>


		 </article>


		  <article class="col col-lg-8 col-md-12" id="main-page">
		  		<br/><br/><br/><br/>
		  		<span class="docker-menu-toggle-content visible-xs visible-sm visible-md"><i class="material-icons">keyboard_backspace</i> <span class="text-muted"><small>Toggle List</small></span></span>
		 		<p><i class="material-icons docker-menu visible-lg" data-target="#item-docker-menu" id="docker-content-menu" data-target-after="#main-page" data-target-after-class="main-page-full-width"  style="width: 24px;">keyboard_backspace</i> </p>

		 	<div class="main-page-content col col-md-12">

		 		
		 	</div>
		 </article>
	</div>
</div>

<div class="offline-status-bar">
	<small><p><i class="material-icons">network_check</i> You are Offline.Please check your internet connection</p></small>
</div>

</body>
</html>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
 
</div>
<script type="text/javascript" src="assets/js/details/ajax/ajax.details.js"></script>
<script type="text/javascript" src="assets/js/details/functions/functions.details.js"></script>
<script type="text/javascript" src="assets/js/basket/ajax/ajax.categories.js"></script>
<script type="text/javascript" src="assets/js/basket/functions/functions.categories.js"></script>
<script type="text/javascript" src="assets/js/socket.io.js"></script>
<script type="text/javascript">
	'use strict';
	/*-----------------------------
	|
	| SOCKET CONNECTION
	|------------------------------*/

	var socket=io.connect('http://localhost:8082');

	socket.on('handshake',function(data){
		if(data.message=='hello'){
			socket.emit('handshake',{message:'hi',token:__config.session.token})
		}
	})

	socket.on('notification',(data)=>{
		console.log(data)
	})
</script>

<script type="text/javascript">
if(window.localStorage.getItem('token')==null){
	window.location='login.html'
}

$(document).ready(function(){

	/*--------------------------------
	| Load notification via ajax
	|--------------------------------*/
	$('.container-notifications').load('notifications.html',function(){

		window.sdft.notification_page=0

		showMoreNotifications();
	})


	$('#groups').on('click',function(){
		//loading
		$.mobile.loading('show'); 

		$('.container-main').hide();
		$('.container-ajax').show();



		$('.container-ajax').load('groups.html',function(){
			//hide loading
			$.mobile.loading('hide'); 	
		})

	})


	$('#new').on('click',function(){
		//loading
		$.mobile.loading('show'); 

		$('.container-main').hide();
		$('.container-ajax').show();



		$('.container-ajax').load('basket.html',function(){
			//clear menu
			clearLoadTopMenu()
			//hide loading
			$.mobile.loading('hide'); 	
		})

	})

	$('.notification-icon').on('click',function(){
		var target=$(this).attr('data-target');
		var itemCssDefaultDisplay=window.getComputedStyle($(target)[0]).display

		if(itemCssDefaultDisplay=='none'){
			$(target).fadeIn();
			$('.container-notifications').hide();

			//show top menu option for details
			$('.top-menu').show();
		}else{
			$(target).hide();
			$('.container-notifications').fadeIn();

			//hide top menu option for details
			$('.top-menu').hide();
		}
		
	})



	

})
</script>